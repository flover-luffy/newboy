# 🤖 Newboy - 多功能QQ机器人插件

> 基于Mirai框架的QQ机器人插件，支持口袋48、微博、微店等多平台内容监控和推送

[![Mirai](https://img.shields.io/badge/Mirai-2.15.0-blue)](https://github.com/mamoe/mirai)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.8+-purple)](https://kotlinlang.org/)
[![License](https://img.shields.io/badge/License-MIT-green)](LICENSE)

## ✨ 主要功能

- 📱 **口袋48监控** - 房间动态、在线状态、多媒体推送
- 🐦 **微博监控** - 用户动态、超话内容实时推送
- 🛍️ **微店管理** - 订单监控、自动发货、商品管理
- 🔍 **在线状态** - 实时查询、批量监控、变化通知
- 🎵 **音频处理** - 智能格式转换、QQ兼容优化

## 🚀 快速开始

1. 将插件jar文件放入Mirai插件目录
2. 启动Mirai Console
3. 使用 `!newboy help` 查看帮助信息
4. 根据需要配置各项功能

## 💬 命令使用

### 系统命令（推荐使用）

使用 `!` 或 `#` 前缀，避免与QQ原生命令冲突：

- `!newboy info` 或 `!nb 信息` - 查看插件状态
- `!newboy config` 或 `!nb 配置` - 查看配置信息
- `!newboy subscribe` 或 `!nb 订阅` - 查看订阅详情
- `!newboy help` 或 `!nb 帮助` - 显示帮助信息

### 功能命令

#### 群聊命令
- `/口袋 搜索 <关键词>` - 搜索成员/队伍
- `/口袋 关注 <房间ID>` - 关注房间动态
- `/口袋 关注列表` - 查看关注列表
- `/微博 关注 <用户UID>` - 关注微博用户
- `/超话 关注 <超话ID>` - 关注超话
- `/在线 <成员名>` - 查询在线状态

#### 管理员命令（私聊）
- `/帮助` - 显示帮助信息
- `/清理` - 清理失效配置
- `/口袋 关注 <房间ID> <群号>` - 跨群管理
- `/微博 关注 <UID> <群号>` - 跨群管理
- `/微店 <群号> cookie <值>` - 微店配置

## 🔧 技术特性

- 🚀 **异步架构** - 基于OkHttp + CompletableFuture，高性能处理
- 🎵 **音频处理** - 智能格式转换，支持多种音频格式
- 🛡️ **错误处理** - 完善异常机制，自动重试和故障恢复
- ⚙️ **配置管理** - 动态更新，多群组独立配置
- 📊 **性能监控** - 实时统计，详细日志记录

## 👥 权限说明

- **普通用户** - 可使用群聊查询命令
- **群管理员** - 可管理本群订阅配置
- **超级管理员** - 可通过私聊管理所有群组配置

## 📝 配置要求

- 口袋48功能需要Token或账号密码配置
- 微博功能需要相应Cookie配置
- 音频转换功能需要安装FFmpeg
- 建议定期清理失效的群组配置

---

**基于 [Mirai](https://github.com/mamoe/mirai) 框架开发**