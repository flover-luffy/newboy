# Newboy - 傻妞一号

一个功能丰富的QQ机器人插件，支持口袋48、微博、微店等多平台内容监控和推送。

## ✨ 主要功能

### 📱 口袋48功能
- 成员房间动态监控
- 成员在线状态查询
- 房间搜索和用户信息查询
- 支持语音、视频、图片等多媒体内容推送
- 智能音频格式转换（支持MP3、WAV、AMR、SILK等格式）

### 🐦 微博功能
- 用户微博动态监控
- 超话内容监控
- 支持图片、视频内容推送
- 实时更新推送

### 🛍️ 微店功能
- 订单状态监控
- 自动发货功能
- 商品管理（屏蔽、高亮等）
- 群播报开关控制

### 🔍 在线状态监控
- 成员在线状态实时查询
- 批量状态监控
- 状态变化通知
- 支持个人监控列表管理

## 🎮 命令使用

### 基础命令
- `/newboy help` - 显示帮助信息
- `/newboy status` - 查看插件运行状态
- `/newboy monitor` - 在线状态监控管理

### 在线状态监控命令
- `/newboy monitor add <成员名> <群号>` - 添加成员监控
- `/newboy monitor remove <成员名> <群号>` - 移除成员监控
- `/newboy monitor list <群号>` - 查看监控列表
- `/newboy monitor toggle <群号>` - 开关监控功能
- `/newboy monitor sync <群号>` - 同步监控状态
- `/newboy monitor stats <群号>` - 查看监控统计
- `/newboy monitor interval <群号> <秒数>` - 设置监控间隔

### 群聊命令

#### 口袋48相关
- `/口袋 搜索 <关键词>` - 搜索成员/队伍
- `/口袋 查询 <用户ID>` - 查询用户信息
- `/口袋 关注 <房间ID>` - 关注房间动态
- `/口袋 取消关注 <房间ID>` - 取消关注房间
- `/口袋 关注列表` - 查看当前群关注列表

#### 微博相关
- `/微博 关注 <用户UID>` - 关注微博用户
- `/微博 取消关注 <用户UID>` - 取消关注用户
- `/微博 关注列表` - 查看关注列表
- `/超话 关注 <超话ID>` - 关注超话
- `/超话 取消关注 <超话ID>` - 取消关注超话
- `/超话 关注列表` - 查看超话关注列表

#### 在线状态查询
- `/在线 <成员名>` - 查询成员在线状态
- `/online <成员名>` - 查询成员在线状态（英文命令）

### 私聊命令（管理员专用）

#### 基础管理
- `/帮助` 或 `/help` - 显示帮助信息
- `/清理` - 清理失效群组配置（超级管理员）

#### 在线状态监控
- `/在线 <成员名>` - 查询成员在线状态
- `/监控添加 <成员名>` - 添加个人监控
- `/监控移除 <成员名>` - 移除个人监控
- `/监控列表` - 查看个人监控列表

#### 口袋48管理
- `/口袋 关注 <房间ID> <群号>` - 为指定群添加关注
- `/口袋 取消关注 <房间ID> <群号>` - 为指定群取消关注
- `/口袋 关注列表` - 查看所有群的关注情况
- `/口袋 搜索 <关键词>` - 搜索成员/队伍
- `/口袋 查询 <用户ID>` - 查询用户详细信息

#### 微博管理
- `/微博 关注 <用户UID> <群号>` - 为指定群添加微博关注
- `/微博 取消关注 <用户UID> <群号>` - 为指定群取消微博关注
- `/微博 关注列表` - 查看所有群的微博关注情况

#### 超话管理
- `/超话 关注 <超话ID> <群号>` - 为指定群添加超话关注
- `/超话 取消关注 <超话ID> <群号>` - 为指定群取消超话关注
- `/超话 关注列表` - 查看所有群的超话关注情况

#### 微店管理
- `/微店 <群号> cookie <Cookie值>` - 设置微店Cookie
- `/微店 <群号> 全部` - 查看微店状态和商品列表
- `/微店 <群号> 关闭` - 关闭微店播报
- `/微店 <群号> 自动发货` - 切换自动发货状态
- `/微店 <群号> 群播报` - 切换群播报状态
- `/微店 <群号> 全部发货` - 手动发货所有订单
- `/微店 <群号> # <商品ID>` - 切换商品特殊链状态
- `/微店 <群号> 屏蔽 <商品ID>` - 切换商品屏蔽状态
- `/微店 <群号> 查 <商品ID>` - 查看商品详情

## 🔧 技术特性

### 异步架构
- 基于OkHttp和CompletableFuture的异步HTTP处理
- 支持连接池管理和请求重试
- 高性能批量请求处理
- 完整的性能监控和统计

### 音频处理
- 智能音频格式检测
- 自动音频格式转换（基于FFmpeg）
- 支持多种音频格式：MP3、WAV、AMR、SILK、OGG、AAC、M4A
- QQ兼容性检查和优化

### 错误处理
- 完善的异常处理机制
- 详细的错误日志记录
- 用户友好的错误提示
- 自动重试和故障恢复

### 配置管理
- 灵活的配置系统
- 支持动态配置更新
- 多群组独立配置
- 配置文件自动备份

## 📋 权限说明

- **普通用户**：可使用群聊中的查询命令
- **群管理员**：可管理本群的订阅配置
- **超级管理员**：可通过私聊管理所有群组配置

## 🚀 快速开始

1. 将插件放入Mirai插件目录
2. 启动Mirai Console
3. 使用 `/newboy help` 查看帮助信息
4. 根据需要配置各项功能

## 📝 注意事项

- 部分功能需要相应的API密钥或Cookie配置
- 建议定期清理失效的群组配置
- 音频转换功能需要系统安装FFmpeg
- 监控功能会消耗一定的网络资源，请合理设置监控间隔

## 🔄 版本信息

当前版本支持的主要功能：
- 口袋48房间动态监控
- 微博用户和超话监控
- 微店订单管理
- 在线状态实时查询
- 多媒体内容智能处理

---

*本插件基于Mirai框架开发，感谢Mirai团队的优秀工作！*